# BrickGame Тетрис

Реализация игры «Тетрис» на языке программирования C с использованием библиотеки `ncurses` для терминального интерфейса и конечных автоматов для формализации игровой логики.

## Содержание

1. [Введение](#введение)
2. [Установка и сборка](#установка-и-сборка)
3. [Использование](#использование)
   - [Основные функции](#основные-функции)
   - [Управление](#управление)
   - [Механики игры](#механики-игры)
4. [Тестирование](#тестирование)
5. [Требования к коду](#требования-к-коду)
6. [Дополнительные задания](#дополнительные-задания)
7. [Лицензия](#лицензия)

## Введение

Проект представляет собой реализацию игры «Тетрис» на языке C. Игра состоит из двух частей: библиотеки, реализующей логику игры, и терминального интерфейса, созданного с использованием библиотеки `ncurses`. Логика игры формализована с помощью конечного автомата, что позволяет легко расширять и модифицировать игровую механику.

## Установка и сборка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/yourusername/brickgame-tetris.git
   cd brickgame-tetris
   ```

2. Установите зависимости (если требуется):
   ```bash
   sudo apt-get install libncurses5-dev libncursesw5-dev
   ```

3. Соберите проект:
   ```bash
   make
   ```

4. Установите программу (опционально):
   ```bash
   make install
   ```

5. Для запуска игры:
   ```bash
   ./brickgame-tetris
   ```

6. Для запуска тестов:
   ```bash
   make test
   ```

7. Для генерации отчета о покрытии кода:
   ```bash
   make gcov_report
   ```

8. Для очистки проекта:
   ```bash
   make clean
   ```

## Использование

### Основные функции

- **Создание и удаление игры**: Инициализация и завершение игры.
- **Обработка ввода**: Управление фигурами с помощью клавиатуры.
- **Отрисовка игрового поля**: Отображение текущего состояния игры в терминале.

### Управление

- **Стрелка влево**: Перемещение фигуры влево.
- **Стрелка вправо**: Перемещение фигуры вправо.
- **Стрелка вниз**: Ускорение падения фигуры.
- **Стрелка вверх**: Вращение фигуры.
- **S**: Старт игры.
- **P**: Пауза/продолжение игры.
- **Q**: Завершение игры.

### Механики игры

- **Вращение фигур**: Фигуры можно вращать для оптимального размещения.
- **Перемещение по горизонтали**: Фигуры можно двигать влево и вправо.
- **Ускорение падения**: Фигуры можно ускорять для быстрого падения.
- **Уничтожение линий**: Заполненные линии уничтожаются, и игрок получает очки.
- **Завершение игры**: Игра заканчивается, если фигура достигает верхней границы поля.

## Тестирование

- Unit-тесты написаны с использованием библиотеки `Check`.
- Покрытие библиотеки с логикой игры — не менее 80%.
- Для запуска тестов: `make test`.
- Для генерации HTML-отчета о покрытии: `make gcov_report`.

## Требования к коду

- Стандарт языка: C11.
- Компилятор: `gcc`.
- Стиль кода: Google Style.
- Логика игры реализована с использованием конечного автомата.
- Игровое поле: 10x20 «пикселей».
- Поддержка всех типов фигур тетриса.
- Управление: стрелки и дополнительные кнопки для паузы и завершения игры.

## Дополнительные задания

### Подсчет очков и рекорд

- Подсчет очков за уничтожение линий:
  - 1 линия: 100 очков.
  - 2 линии: 300 очков.
  - 3 линии: 700 очков.
  - 4 линии: 1500 очков.
- Хранение рекорда в файле или встраиваемой СУБД.

### Механика уровней

- Уровень увеличивается каждые 600 очков.
- Скорость падения фигур увеличивается с каждым уровнем.
- Максимальный уровень: 10.

## Лицензия

Проект распространяется под лицензией MIT. Подробности в файле [LICENSE](LICENSE).

---

Проект разработан в рамках учебного задания.
